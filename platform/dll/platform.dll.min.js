var platform_dll;(()=>{var e={"./node_modules/@lastui/rocker/platform/Module.jsx":(e,o,r)=>{"use strict";function n(e,o){(null==o||o>e.length)&&(o=e.length);for(var r=0,n=new Array(o);r<o;r++)n[r]=e[r];return n}function t(e,o){return function(e){if(Array.isArray(e))return e}(e)||function(e,o){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,t=!1,l=void 0;try{for(var u,d=e[Symbol.iterator]();!(n=(u=d.next()).done)&&(r.push(u.value),!o||r.length!==o);n=!0);}catch(e){t=!0,l=e}finally{try{n||null==d.return||d.return()}finally{if(t)throw l}}return r}}(e,o)||function(e,o){if(e){if("string"===typeof e)return n(e,o);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,o):void 0}}(e,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(o,{Z:()=>a});var l=r("./node_modules/react/index.js"),u=r("./node_modules/@lastui/rocker/platform/ModuleContext.jsx"),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("in render of",e);var o=(0,u.ZG)(),r=(0,l.useState)(o.getLoadedModule(e.name)),n=t(r,2),d=n[0],a=n[1];if((0,l.useEffect)((function(){var r=e.name;return console.log("mount",r),r&&o.loadModule(r).then((function(e){o.setModuleMountState(r,!0),a(e)})),function(){console.log("unmount",r),r&&o.setModuleMountState(r,!1)}}),[e.name]),!d)return console.log("module",e,"not loaded"),l.createElement(l.Fragment,null);if(!d.root)return console.log("module",e,"not does not have component"),l.createElement(l.Fragment,null);var s=d.root;return l.createElement(u.V9,{moduleLoader:o},l.createElement(s,e.options))};const a=l.memo(d)},"./node_modules/@lastui/rocker/platform/ModuleContext.jsx":(e,o,r)=>{"use strict";r.d(o,{V9:()=>l,ZG:()=>u});var n=r("./node_modules/react/index.js"),t=n.createContext(null),l=function(e){return n.createElement(t.Provider,{value:e.moduleLoader||null},e.moduleLoader?e.children:n.createElement(n.Fragment,null))},u=function(){return n.useContext(t)}},"./node_modules/@lastui/rocker/platform/constants.js":(e,o,r)=>{"use strict";r.r(o),r.d(o,{INIT:()=>n,SET_AVAILABLE_MODULES:()=>t,SET_ENTRYPOINT_MODULE:()=>l,LOAD_MODULE:()=>u,SHUTDOWN:()=>d,MODULE_INIT:()=>a,MODULE_LOADED:()=>s,MODULE_UNLOADED:()=>i,MODULE_NOT_AVAILABLE:()=>c});var n="@@platform/INIT",t="@@platform/SET_AVAILABLE_MODULES",l="@@platform/SET_ENTRYPOINT_MODULE",u="@@platform/LOAD_MODULE",d="@@platform/SHUTDOWN",a="@@modules/INIT",s="@@modules/LOADED",i="@@modules/UNLOADED",c="@@modules/NOT_AVAILABLE"},"./node_modules/@lastui/rocker/platform/index.js":(e,o,r)=>{"use strict";r.r(o),r.d(o,{Module:()=>f,ModuleContextProvider:()=>i.V9,actions:()=>n,constants:()=>t,createModuleLoader:()=>c.hQ,default:()=>p,history:()=>s,moduleLoaderMiddleware:()=>c.Aj,registerModule:()=>m,useModuleLoader:()=>i.ZG});var n={};r.r(n),r.d(n,{init:()=>l,loadModule:()=>a,setAvailableModules:()=>u,setEntryPointModule:()=>d});var t=r("./node_modules/@lastui/rocker/platform/constants.js"),l=function(){return{type:t.INIT}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:t.SET_AVAILABLE_MODULES,payload:{modules:e}}},d=function(e){return{type:t.SET_ENTRYPOINT_MODULE,payload:{entrypoint:e}}},a=function(e){return{type:t.LOAD_MODULE,payload:{name:e}}},s=(0,r("./node_modules/history/index.js").createBrowserHistory)(),i=r("./node_modules/@lastui/rocker/platform/ModuleContext.jsx"),c=r("./node_modules/@lastui/rocker/platform/modules.js"),m=r("./node_modules/@lastui/rocker/platform/modules.js").zS,f=r("./node_modules/@lastui/rocker/platform/Module.jsx").Z;const p={Module:f,ModuleContextProvider:i.V9,useModuleLoader:i.ZG,actions:n,constants:t,history:s,createModuleLoader:c.hQ,moduleLoaderMiddleware:c.Aj,registerModule:m}},"./node_modules/@lastui/rocker/platform/modules.js":(e,o,r)=>{"use strict";r.d(o,{zS:()=>i,Aj:()=>c,hQ:()=>m});var n=r("./node_modules/@babel/runtime/regenerator/index.js"),t=r.n(n),l=r("./node_modules/react/index.js"),u=r("./node_modules/react-redux/lib/index.js"),d=r("./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.cjs.js"),a=r("./node_modules/redux/lib/redux.js"),s=r("./node_modules/@lastui/rocker/platform/constants.js");function i(e){e.MainView&&(this.MainView=e.MainView),e.reducer&&(this.reducer=e.reducer),e.saga&&(this.saga=e.saga)}var c=function(e){return function(o){return function(o){return function(r){switch(r.type){case s.SET_AVAILABLE_MODULES:return e.setAvailableModules(r.payload.modules).then((function(){return o(r)}));case s.SET_ENTRYPOINT_MODULE:return e.loadModule(r.payload.entrypoint).then((function(){return o(r)}));default:return o(r)}}}}},m=function(){var e={dispatch:function(){console.error("Redux store is not provided!")},getState:function(){return console.error("Redux store is not provided!"),{}},subscribe:function(){console.error("Redux store is not provided!")}},o=function(){console.log("Sagas runnner not provided!")},r={},n={},i={},c=[],m={},f={},p=function(e){return r[e]},_=function(e){delete m[e]},g=function(e,o){_(e),console.log("module",e,"adding reducer"),o({},{type:s.MODULE_INIT}),m[e]=o},v=function(e){f[e]&&(console.log("module",e,"removing saga"),console.log("before cancel"),o(t().mark((function o(){return t().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,d.cancel)(f[e]);case 2:case"end":return o.stop()}}),o)}))),console.log("after cancel"),console.log("module",e,"removed saga"),delete f[e])},x=function(e,r){v(e),console.log("module",e,"adding saga"),f[e]=o(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.fork)(r);case 2:case"end":return e.stop()}}),e)}))),console.log("module",e,"added saga")},M=function(o){return console.log("unloading module",o),v(o),delete r[o],e.dispatch({type:s.MODULE_UNLOADED,payload:{name:o}}),Promise.resolve(null)},E=function(o,r){var n=function(o){return{dispatch:e.dispatch,getState:function(){var r=e.getState(),n=r.modules[o]||{};return n.router=r.router,n},subscribe:e.subscribe,replaceReducer:function(e){g(o,e)}}}(o);return function(e){return l.createElement(u.Provider,{store:n},l.createElement(r,e))}};return{setSagaRunner:function(e){e&&(o=e)},setStore:function(o){o&&(e=o)},setAvailableModules:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=[],t={},l=e.length;l--;){var u=e[l];t[u.name]=u,n[u.name]=u}for(var d in n)t[d]||(r[d]&&o.push(M(d)),delete n[d]);return Promise.all(o)},loadModule:function(o){var t=r[o];if(t)return Promise.resolve(t);var l=i[o];if(l)return l;var u=n[o];if(!u)return e.dispatch({type:s.MODULE_NOT_AVAILABLE,payload:{name:o}}),Promise.resolve(null);var d,c=(d=u.url,fetch(d).then((function(e){return e.text()})).then((function(e){var o={__SANDBOX_SCOPE__:{}};return void 0!==new Function("with(this) {"+e+";}").call(o)?{}:o.__SANDBOX_SCOPE__}))).then((function(n){return function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.reducer&&(o.reducer.router=function(){return{}},g(e,(0,a.combineReducers)(o.reducer))),o.saga&&x(e,o.saga),r[e]={name:e,root:o.MainView&&E(e,o.MainView)}}(o,n),e.dispatch({type:s.MODULE_LOADED,payload:{name:o}}),p(o)})).catch((function(e){return Promise.resolve(null)})).then((function(e){return delete i[o],e}));return function(e,o){return i[e]=o,o}(o,c)},unloadModule:M,getLoadedModule:p,setModuleMountState:function(e,o){o?console.log("module",e,"ack mount"):(console.log("module",e,"ack unmount"),r[e]||(console.log("module",e,"is now dangling and needs cleanup"),c.push(e)))},getReducer:function(){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,r=c.pop();r;r=c.pop())console.log("evicting dangling module redux state",r),delete e[r];switch(o.type){case s.MODULE_UNLOADED:console.log("in rocker reducer module unload",o.payload),_(name)}for(var n in m)e[n]=m[n](e[n],o);return e}}}}},"./node_modules/@babel/runtime/regenerator/index.js":(e,o,r)=>{e.exports=r("dll-reference dependencies_dll")("./node_modules/@babel/runtime/regenerator/index.js")},"./node_modules/history/index.js":(e,o,r)=>{e.exports=r("dll-reference dependencies_dll")("./node_modules/history/index.js")},"./node_modules/react-redux/lib/index.js":(e,o,r)=>{e.exports=r("dll-reference dependencies_dll")("./node_modules/react-redux/lib/index.js")},"./node_modules/react/index.js":(e,o,r)=>{e.exports=r("dll-reference dependencies_dll")("./node_modules/react/index.js")},"./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.cjs.js":(e,o,r)=>{e.exports=r("dll-reference dependencies_dll")("./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.cjs.js")},"./node_modules/redux/lib/redux.js":(e,o,r)=>{e.exports=r("dll-reference dependencies_dll")("./node_modules/redux/lib/redux.js")},"?5991":(e,o,r)=>{e.exports=r},"dll-reference dependencies_dll":e=>{"use strict";e.exports=dependencies_dll}},o={};function r(n){var t=o[n];if(void 0!==t)return t.exports;var l=o[n]={exports:{}};return e[n](l,l.exports,r),l.exports}r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},r.d=(e,o)=>{for(var n in o)r.o(o,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=r("?5991");platform_dll=n})();