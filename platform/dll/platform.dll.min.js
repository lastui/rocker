var platform_dll;(()=>{var e={"./node_modules/@lastui/rocker/platform/index.js":(e,r,n)=>{"use strict";n.r(r),n.d(r,{Module:()=>P,ModuleContext:()=>O,actions:()=>o,constants:()=>t,createModuleLoader:()=>N,default:()=>V,history:()=>S,moduleLoaderMiddleware:()=>T,registerModule:()=>R,useModuleLoader:()=>L});var t={};n.r(t),n.d(t,{ADD_SHARED:()=>y,INIT:()=>u,LOAD_MODULE:()=>s,MODULE_INIT:()=>i,MODULE_LOADED:()=>f,MODULE_NOT_AVAILABLE:()=>p,MODULE_UNLOADED:()=>m,REMOVE_SHARED:()=>g,SET_AVAILABLE_MODULES:()=>d,SET_ENTRYPOINT_MODULE:()=>l,SET_LANGUAGE:()=>a,SHUTDOWN:()=>c});var o={};n.r(o),n.d(o,{addShared:()=>_,init:()=>v,loadModule:()=>E,removeShared:()=>x,setAvailableModules:()=>M,setEntryPointModule:()=>b,setLanguage:()=>h});var u="@@platform/INIT",a="@@platform/SET_LANGUAGE",d="@@platform/SET_AVAILABLE_MODULES",l="@@platform/SET_ENTRYPOINT_MODULE",s="@@platform/LOAD_MODULE",c="@@platform/SHUTDOWN",i="@@modules/INIT",f="@@modules/LOADED",m="@@modules/UNLOADED",p="@@modules/NOT_AVAILABLE",y="@@shared/ADD_SHARED",g="@@shared/REMOVE_SHARED",v=function(e){return{type:u,payload:{fetchContext:e}}},h=function(e){return{type:a,payload:{language:e}}},_=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:y,payload:{name:e,data:r}}},x=function(e){return{type:g,payload:{name:e}}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:d,payload:{modules:e}}},b=function(e){return{type:l,payload:{entrypoint:e}}},E=function(e){return{type:s,payload:{name:e}}},S=(0,n("./node_modules/history/index.js").createBrowserHistory)(),A=n("./node_modules/react/index.js"),O=A.createContext(null),L=function(){return A.useContext(O)};var D=n("./node_modules/react-redux/lib/index.js"),j=n("./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.cjs.js"),w=n("./node_modules/redux/lib/redux.js");function R(e){e.MainView&&(this.MainView=e.MainView),e.reducer&&(this.reducer=e.reducer),e.saga&&(this.saga=e.saga),e.shared&&(this.shared=e.shared),e.styles&&(this.styles=e.styles),e.locale&&(this.locale=e.locale)}var T=function(e){return function(r){return function(r){return function(n){switch(n.type){case d:return e.setAvailableModules(n.payload.modules).then((function(){return r(n)}));case l:return e.loadModule(n.payload.entrypoint).then((function(){return r(n)}));default:return r(n)}}}}},N=function(){var e={dispatch:function(){console.error("Redux store is not provided!")},getState:function(){return console.error("Redux store is not provided!"),{}},subscribe:function(){console.error("Redux store is not provided!")}},r=function(){console.error("Sagas runnner not provided!")},n={},t={},o={},a=[],l={},s={},c=function(e){return n[e]},v=function(e){delete l[e]},h=function(e,r){v(e),r({},{type:i}),l[e]=r},x=function(e){s[e]&&(r(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,j.cancel)(s[e]);case 2:case"end":return r.stop()}}),r)}))),delete s[e])},M=function(e,n){x(e),s[e]=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.fork)(n);case 2:case"end":return e.stop()}}),e)})))},b=function(r,n){e.dispatch(_(r,n))},E=function(r){var t=n[r];return t&&(t.cleanup(),delete n[r],e.dispatch({type:m,payload:{name:r}})),Promise.resolve(null)},S=function(r,n){var t=function(r){return{dispatch:e.dispatch,getState:function(){var n=e.getState(),t=n.modules[r]||{};return t.router=n.router,t.shared=n.shared,t},subscribe:e.subscribe,replaceReducer:function(e){h(r,e)}}}(r),o=function(e){return A.createElement(D.ReactReduxContext.Provider,{value:{store:t}},A.createElement(n,e))};return o.displayName="ModuleWrapper-".concat(r),n.displayName="Module-".concat(r),o};return{setSagaRunner:function(e){e&&(r=e)},setStore:function(r){r&&(e=r)},setAvailableModules:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[],o={},u=e.length;u--;){var a=e[u];o[a.name]=a,t[a.name]=a}for(var d in t)o[d]||(n[d]&&r.push(E(d)),delete t[d]);return Promise.all(r)},loadModule:function(r){var u=n[r];if(u)return Promise.resolve(u);var a=o[r];if(a)return a;var d=t[r];if(!d)return e.dispatch({type:p,payload:{name:r}}),Promise.resolve(null);var l,s=(l=d.url,fetch(l).then((function(e){return e.text()})).then((function(e){var r={__SANDBOX_SCOPE__:{}};return void 0!==new Function("with(this) {"+e+";}").call(r)?{}:r.__SANDBOX_SCOPE__}))).then((function(t){return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.reducer&&(console.debug("module ".concat(e," introducing reducer")),h(e,(0,w.combineReducers)(r.reducer))),r.saga&&(console.debug("module ".concat(e," introducing saga")),M(e,r.saga)),r.shared&&(console.debug("module ".concat(e," introducing shared")),b(e,r.shared)),r.styles&&(console.debug("module ".concat(e," introducing styles")),r.styles.use()),r.locale&&(console.debug("module ".concat(e," introducing locales")),console.log(r.locale)),n[e]={name:e,root:r.MainView&&S(e,r.MainView),cleanup:function(){r.style&&r.styles.unuse(),r.saga&&x(e)}}}(r,t),e.dispatch({type:f,payload:{name:r}}),c(r)})).catch((function(e){return Promise.resolve(null)})).then((function(e){return delete o[r],e}));return function(e,r){return o[e]=r,r}(r,s)},unloadModule:E,getLoadedModule:c,setModuleMountState:function(e,r){r||n[e]||a.push(e)},getReducer:function(){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=a.pop();n;n=a.pop())console.debug("dyn reducer - module's ".concat(n," state evicted")),delete e[n];switch(r.type){case y:return console.debug("dyn reducer - add shared (ignore)"),e;case g:return console.debug("dyn reducer - remove shared (ignore)"),e;case d:return console.debug("dyn reducer - set available modules (ignore)"),e;case m:return console.debug("dyn reducer - module ".concat(name," unloaded")),v(name),e;case u:return console.debug("dyn reducer - platform init (ignore)"),e}for(var t in l)e[t]=l[t](e[t],r);return e}}}};function I(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],t=!0,o=!1,u=void 0;try{for(var a,d=e[Symbol.iterator]();!(t=(a=d.next()).done)&&(n.push(a.value),!r||n.length!==r);t=!0);}catch(e){o=!0,u=e}finally{try{t||null==d.return||d.return()}finally{if(o)throw u}}return n}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return U(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}const P=A.memo((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=L(),n=(0,A.useState)(r.getLoadedModule(e.name)),t=I(n,2),o=t[0],u=t[1];if((0,A.useEffect)((function(){if(e.name){var n=e.name;return r.loadModule(n).then((function(e){r.setModuleMountState(n,!0),u(e)})),function(){r.setModuleMountState(n,!1)}}}),[e.name]),!e.name)return A.createElement(A.Fragment,null);if(!o)return console.debug("module ".concat(e.name," is not loaded")),A.createElement(A.Fragment,null);if(!o.root)return console.debug("module ".concat(e.name," does not have view")),A.createElement(A.Fragment,null);console.debug("module ".concat(e.name," ready"));var a=o.root;return A.createElement(O.Provider,{value:r},A.createElement(a,e.options))})),V={Module:P,ModuleContext:O,useModuleLoader:L,actions:o,constants:t,history:S,createModuleLoader:N,moduleLoaderMiddleware:T,registerModule:R}},"./node_modules/history/index.js":(e,r,n)=>{e.exports=n("dll-reference dependencies_dll")("./node_modules/history/index.js")},"./node_modules/react-redux/lib/index.js":(e,r,n)=>{e.exports=n("dll-reference dependencies_dll")("./node_modules/react-redux/lib/index.js")},"./node_modules/react/index.js":(e,r,n)=>{e.exports=n("dll-reference dependencies_dll")("./node_modules/react/index.js")},"./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.cjs.js":(e,r,n)=>{e.exports=n("dll-reference dependencies_dll")("./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.cjs.js")},"./node_modules/redux/lib/redux.js":(e,r,n)=>{e.exports=n("dll-reference dependencies_dll")("./node_modules/redux/lib/redux.js")},"?5991":(e,r,n)=>{e.exports=n},"dll-reference dependencies_dll":e=>{"use strict";e.exports=dependencies_dll}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var u=r[t]={exports:{}};return e[t](u,u.exports,n),u.exports}n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t=n("?5991");platform_dll=t})();